!function(e){"use strict";var t=["jpeg","jpg","png"],r=function(e){var t=this.internal.newObject(),a=this.internal.write,n=this.internal.putStream;if(e.n=t,a("<</Type /XObject"),a("/Subtype /Image"),a("/Width "+e.w),a("/Height "+e.h),e.cs===this.color_spaces.INDEXED?a("/ColorSpace [/Indexed /DeviceRGB "+(e.pal.length/3-1)+" "+("smask"in e?t+2:t+1)+" 0 R]"):(a("/ColorSpace /"+e.cs),e.cs===this.color_spaces.DEVICE_CMYK&&a("/Decode [1 0 1 0 1 0 1 0]")),a("/BitsPerComponent "+e.bpc),"f"in e&&a("/Filter /"+e.f),"dp"in e&&a("/DecodeParms <<"+e.dp+">>"),"trns"in e&&e.trns.constructor==Array){for(var i="",o=0,s=e.trns.length;o<s;o++)i+=e.trns[o]+" "+e.trns[o]+" ";a("/Mask ["+i+"]")}if("smask"in e&&a("/SMask "+(t+1)+" 0 R"),a("/Length "+e.data.length+">>"),n(e.data),a("endobj"),"smask"in e){var c="/Predictor "+e.p+" /Colors 1 /BitsPerComponent "+e.bpc+" /Columns "+e.w,h={w:e.w,h:e.h,cs:"DeviceGray",bpc:e.bpc,dp:c,data:e.smask};"f"in e&&(h.f=e.f),r.call(this,h)}e.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),a("<< /Length "+e.pal.length+">>"),n(this.arrayBufferToBinaryString(new Uint8Array(e.pal))),a("endobj"))},a=function(){var e=this.internal.collections.addImage_images;for(var t in e)r.call(this,e[t])},n=function(){var e,t=this.internal.collections.addImage_images,r=this.internal.write;for(var a in t)r("/I"+(e=t[a]).i,e.n,"0","R")},i=function(e){return"object"==typeof e&&1===e.nodeType},o=function(e,t){var r;if(t)for(var a in t)if(e===t[a].alias){r=t[a];break}return r};e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"},e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"},e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},e.sHashCode=function(e){return Array.prototype.reduce&&e.split("").reduce(function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e},0)},e.isString=function(e){return"string"==typeof e},e.extractInfoFromBase64DataURI=function(e){return/^data:([\w]+?\/([\w]+?));base64,(.+?)$/g.exec(e)},e.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},e.isArrayBuffer=function(e){return!!this.supportsArrayBuffer()&&e instanceof ArrayBuffer},e.isArrayBufferView=function(e){return!!this.supportsArrayBuffer()&&("undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array))},e.binaryStringToUint8Array=function(e){for(var t=e.length,r=new Uint8Array(t),a=0;a<t;a++)r[a]=e.charCodeAt(a);return r},e.arrayBufferToBinaryString=function(e){this.isArrayBuffer(e)&&(e=new Uint8Array(e));for(var t="",r=e.byteLength,a=0;a<r;a++)t+=String.fromCharCode(e[a]);return t},e.arrayBufferToBase64=function(e){for(var t,r="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(e),i=n.byteLength,o=i%3,s=i-o,c=0;c<s;c+=3)r+=a[(16515072&(t=n[c]<<16|n[c+1]<<8|n[c+2]))>>18]+a[(258048&t)>>12]+a[(4032&t)>>6]+a[63&t];return 1==o?r+=a[(252&(t=n[s]))>>2]+a[(3&t)<<4]+"==":2==o&&(r+=a[(64512&(t=n[s]<<8|n[s+1]))>>10]+a[(1008&t)>>4]+a[(15&t)<<2]+"="),r},e.createImageInfo=function(e,t,r,a,n,i,o,s,c,h,f,d,u){var l={alias:s,w:t,h:r,cs:a,bpc:n,i:o,data:e};return i&&(l.f=i),c&&(l.dp=c),h&&(l.trns=h),f&&(l.pal=f),d&&(l.smask=d),u&&(l.p=u),l},e.addImage=function(r,s,c,h,f,d,u,l,p){if("string"!=typeof s){var C=d;d=f,f=h,h=c,c=s,s=C}if("object"==typeof r&&!i(r)&&"imageData"in r){var g=r;r=g.imageData,s=g.format||s,c=g.x||c||0,h=g.y||h||0,f=g.w||f,d=g.h||d,u=g.alias||u,l=g.compression||l,p=g.rotation||g.angle||p}if(isNaN(c)||isNaN(h))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addImage");var A,y,D,E,I=function(){var e=this.internal.collections.addImage_images;return e||(this.internal.collections.addImage_images=e={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",n)),e}.call(this);if(!(A=o(r,I))&&(i(r)&&(r=function(e,t,r){if("IMG"===e.nodeName&&e.hasAttribute("src")){var a=""+e.getAttribute("src");if(!r&&0===a.indexOf("data:image/"))return a;!t&&/\.png(?:[?#].*)?$/i.test(a)&&(t="png")}if("CANVAS"===e.nodeName)var n=e;else{(n=document.createElement("canvas")).width=e.clientWidth||e.width,n.height=e.clientHeight||e.height;var i=n.getContext("2d");if(!i)throw"addImage requires canvas to be supported by browser.";if(r){var o,s,c,h,f,d,u,l,p=Math.PI/180;"object"==typeof r&&(o=r.x,s=r.y,c=r.bg,r=r.angle),l=r*p,h=Math.abs(Math.cos(l)),f=Math.abs(Math.sin(l)),d=n.width,u=n.height,n.width=u*f+d*h,n.height=u*h+d*f,isNaN(o)&&(o=n.width/2),isNaN(s)&&(s=n.height/2),i.clearRect(0,0,n.width,n.height),i.fillStyle=c||"white",i.fillRect(0,0,n.width,n.height),i.save(),i.translate(o,s),i.rotate(l),i.drawImage(e,-d/2,-u/2),i.rotate(-l),i.translate(-o,-s),i.restore()}else i.drawImage(e,0,0,n.width,n.height)}return n.toDataURL("png"==(""+t).toLowerCase()?"image/png":"image/jpeg")}(r,s,p)),null==u&&(u="string"==typeof(E=r)&&e.sHashCode(E)),!(A=o(u,I)))){if(this.isString(r)){var m=this.extractInfoFromBase64DataURI(r);m?(s=m[2],r=atob(m[3])):137===r.charCodeAt(0)&&80===r.charCodeAt(1)&&78===r.charCodeAt(2)&&71===r.charCodeAt(3)&&(s="png")}if(s=(s||"JPEG").toLowerCase(),D=s,-1===t.indexOf(D))throw new Error("addImage currently only supports formats "+t+", not '"+s+"'");if(function(t){return"function"!=typeof e["process"+t.toUpperCase()]}(s))throw new Error("please ensure that the plugin for '"+s+"' support is added");if(this.supportsArrayBuffer()&&(r instanceof Uint8Array||(y=r,r=this.binaryStringToUint8Array(r))),!(A=this["process"+s.toUpperCase()](r,function(e){var t=0;return e&&(t=Object.keys?Object.keys(e).length:function(e){var t=0;for(var r in e)e.hasOwnProperty(r)&&t++;return t}(e)),t}(I),u,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:e.image_compression.NONE}(l),y)))throw new Error("An unkwown error occurred whilst processing the image")}return function(e,t,r,a,n,i,o){var s=function(e,t,r){return e||t||(e=-96,t=-96),e<0&&(e=-1*r.w*72/e/this.internal.scaleFactor),t<0&&(t=-1*r.h*72/t/this.internal.scaleFactor),0===e&&(e=t*r.w/r.h),0===t&&(t=e*r.h/r.w),[e,t]}.call(this,r,a,n),c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;r=s[0],a=s[1],o[i]=n,this.internal.write("q",c(r),"0 0",c(a),c(e),h(t+a),"cm /I"+n.i,"Do Q")}.call(this,c,h,f,d,A,A.i,I),this};var s=function(e,t){return e.subarray(t,t+5)};e.processJPEG=function(e,t,r,a,n){var i,o=this.color_spaces.DEVICE_RGB,c=this.decode.DCT_DECODE;return this.isString(e)?(i=function(e){var t;if(255===!e.charCodeAt(0)||216===!e.charCodeAt(1)||255===!e.charCodeAt(2)||224===!e.charCodeAt(3)||!e.charCodeAt(6)==="J".charCodeAt(0)||!e.charCodeAt(7)==="F".charCodeAt(0)||!e.charCodeAt(8)==="I".charCodeAt(0)||!e.charCodeAt(9)==="F".charCodeAt(0)||0===!e.charCodeAt(10))throw new Error("getJpegSize requires a binary string jpeg file");for(var r=256*e.charCodeAt(4)+e.charCodeAt(5),a=4,n=e.length;a<n;){if(a+=r,255!==e.charCodeAt(a))throw new Error("getJpegSize could not find the size of the image");if(192===e.charCodeAt(a+1)||193===e.charCodeAt(a+1)||194===e.charCodeAt(a+1)||195===e.charCodeAt(a+1)||196===e.charCodeAt(a+1)||197===e.charCodeAt(a+1)||198===e.charCodeAt(a+1)||199===e.charCodeAt(a+1))return t=256*e.charCodeAt(a+5)+e.charCodeAt(a+6),[256*e.charCodeAt(a+7)+e.charCodeAt(a+8),t,e.charCodeAt(a+9)];a+=2,r=256*e.charCodeAt(a)+e.charCodeAt(a+1)}}(e),this.createImageInfo(e,i[0],i[1],1==i[3]?this.color_spaces.DEVICE_GRAY:o,8,c,t,r)):(this.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.isArrayBufferView(e)?(i=function(e){if(65496!=(e[0]<<8|e[1]))throw new Error("Supplied data is not a JPEG");for(var t,r=e.length,a=(e[4]<<8)+e[5],n=4;n<r;){if(a=((t=s(e,n+=a))[2]<<8)+t[3],(192===t[1]||194===t[1])&&255===t[0]&&a>7)return{width:((t=s(e,n+5))[2]<<8)+t[3],height:(t[0]<<8)+t[1],numcomponents:t[4]};n+=2}throw new Error("getJpegSizeFromBytes could not find the size of the image")}(e),e=n||this.arrayBufferToBinaryString(e),this.createImageInfo(e,i.width,i.height,1==i.numcomponents?this.color_spaces.DEVICE_GRAY:o,8,c,t,r)):null)},e.processJPG=function(){return this.processJPEG.apply(this,arguments)}}(jsPDF.API);